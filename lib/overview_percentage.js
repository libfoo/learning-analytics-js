jQuery(function(a){function e(){a("form + div").html("Would you like to show the overview percentage?")}a("form").submit(function(){a("form input").prop("disabled",!0);a("form + div").html("Pulling data, please wait...");a.post("https://mediafiles.uvu.edu/lib/t/extracted.php",a(this).serialize(),function(k){var f=a("select option:selected").text().replace(/-/g," "),g=" students visited overview page",d=parseInt(a("select option:selected").val()),e=/overview/i,c={},l=[],b=[],c=a.parseJSON(k);if(0===
c.length)a("form + div").html("No enrollment.");else{for(var m in c){k=parseInt(c[m].course_id);var h=parseInt(c[m].user_id),n=c[m].http_request_clean;k===d&&(l.some(function(a){return a===h})||l.push(h),e.test(n)&&!b.some(function(a){return a===h})&&b.push(h))}d=l.length;b=b.length;0===d?a("form + div").html(function(){return"<div>"+f+"</div><div>No enrollment</div>"}):0===b?a("form + div").html(function(){return"<div>"+f+"</div><div>No user visited overview page</div>"}):d===b?a("form + div").html(function(){return"<div>"+
f+"</div>"+("<div>100%"+g+"</div>")}):(g=(b/d*100).toPrecision(2)+"%"+g,a("form + div").html(function(){return"<div>"+f+"</div>"+("<div>"+g+"</div>")}))}}).fail(function(){window.alert("Error: Pulling data!")});return!1});a("form > select").change(function(){a("form input").prop("disabled",!1);e()});e();a("form input").val("Show Percentage")});
